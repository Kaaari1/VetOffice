create database vetoffice;

CREATE TABLE Animals
(
id_animal bigint NOT NULL PRIMARY KEY,
name_a varchar(50) NOT NULL,
age char(2) NOT NULL,
id_user bigint NOT NULL
);

CREATE TABLE Users_login
(
id_user bigint NOT NULL,
email varchar(100) NOT NULL,
password varchar(32) NOT NULL,
id_role bigint NOT NULL,
role varchar(50) NOT NULL
);

CREATE TABLE Users
(
id_user bigint NOT NULL PRIMARY KEY,
name varchar(50) NOT NULL,
surname varchar(50) NOT NULL,
phone_number char(9) NOT NULL
);

CREATE TABLE Visits
(
id_visit bigint NOT NULL PRIMARY KEY,
id_animal bigint NOT NULL,
name_a varchar(50) NOT NULL,
id_doctor bigint NOT NULL,
nameands varchar(100) NOT NULL,
id_user bigint NOT NULL,
name varchar(50) NOT NULL,
surname varchar(50) NOT NULL,
date datetime NOT NULL
);

CREATE TABLE Doctors
(
id_doctor bigint NOT NULL PRIMARY KEY,
nameands varchar(100) NOT NULL
);

CREATE TABLE Presence
(
id_doctor bigint NOT NULL,
work_hours Datetime NOT NULL,
nworking_days Datetime
);

CREATE TABLE Roles
(
id_role bigint NOT NULL PRIMARY KEY,
role_name varchar(50) NOT NULL
);

ALTER TABLE Visits ADD CONSTRAINT fk_va FOREIGN KEY (id_animal) references Animals(id_animal);
ALTER TABLE Visits ADD CONSTRAINT fk_vd FOREIGN KEY (id_doctor) references Doctors(id_doctor);
ALTER TABLE Animals ADD CONSTRAINT fk_au FOREIGN KEY (id_user) references Users(id_user);
ALTER TABLE Users_login ADD CONSTRAINT fk_ulu FOREIGN KEY (id_user) references Users(id_user);
ALTER TABLE Users_login ADD CONSTRAINT fk_ulr FOREIGN KEY (id_role) references Roles(id_role);
ALTER TABLE Presence ADD CONSTRAINT fk_pd FOREIGN KEY (id_doctor) references Doctors(id_doctor);
